(function(t){function e(e){for(var r,n,i=e[0],c=e[1],l=e[2],u=0,d=[];u<i.length;u++)n=i[u],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&d.push(o[n][0]),o[n]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);f&&f(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,n=1;n<a.length;n++){var i=a[n];0!==o[i]&&(r=!1)}r&&(s.splice(e--,1),t=c(c.s=a[0]))}return t}var r={},n={app:0},o={app:0},s=[];function i(t){return c.p+"js/"+({configurations:"configurations",orders:"orders",products:"products"}[t]||t)+"."+{configurations:"1c2b3aa0",orders:"1581898e",products:"461d423a","chunk-2d21ebb4":"cd8b577c"}[t]+".js"}function c(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={configurations:1,orders:1,products:1};n[t]?e.push(n[t]):0!==n[t]&&a[t]&&e.push(n[t]=new Promise((function(e,a){for(var r="css/"+({configurations:"configurations",orders:"orders",products:"products"}[t]||t)+"."+{configurations:"3d8bf96f",orders:"df1193bc",products:"a1bd9600","chunk-2d21ebb4":"31d6cfe0"}[t]+".css",o=c.p+r,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var l=s[i],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===r||u===o))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){l=d[i],u=l.getAttribute("data-href");if(u===r||u===o)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var r=e&&e.target&&e.target.src||o,s=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete n[t],f.parentNode.removeChild(f),a(s)},f.href=o;var v=document.getElementsByTagName("head")[0];v.appendChild(f)})).then((function(){n[t]=0})));var r=o[t];if(0!==r)if(r)e.push(r[2]);else{var s=new Promise((function(e,a){r=o[t]=[e,a]}));e.push(r[2]=s);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=i(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(f);var a=o[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+r+": "+n+")",d.name="ChunkLoadError",d.type=r,d.request=n,a[1](d)}o[t]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=r,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(a,r,function(e){return t[e]}.bind(null,r));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="static/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var f=u;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"43a4":function(t,e,a){},4823:function(t,e,a){"use strict";a("ec23")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-app",[a("v-app-bar",{staticClass:"wrapper",attrs:{app:"",color:"#d76e00",dark:"",height:"60"}},[a("v-app-bar-nav-icon",{attrs:{href:"/"}},[a("v-icon",{attrs:{large:""}},[t._v(" mdi-laptop ")])],1),a("span",{staticClass:"title ml-3 mr-5"},[t._v("Comp "),a("span",{staticClass:"font-weight-light"},[t._v("SHOP")])]),a("v-spacer"),a("v-btn",{staticClass:"orange darken-2 ml-3 mr-3",attrs:{text:"",to:"/orders"}},[t._v(" Заказы ")]),a("v-btn",{staticClass:"orange darken-2 ml-3 mr-3",attrs:{text:"",to:"/configurations"}},[t._v(" Конфигурации ")]),a("ConfCart"),a("Cart",{attrs:{showSnack:t.showSnack}}),a("Account")],1),a("v-content",{staticClass:"router-view"},[a("router-view"),a("v-snackbar",{attrs:{color:"#d76e00",bottom:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" Заказ оформлен! "),a("v-btn",{attrs:{text:""},on:{click:function(e){t.snackbar=!1}}},[t._v(" Закрыть ")])],1)],1)],1)],1)},o=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-menu",{attrs:{left:"",bottom:"","close-on-content-click":!1,"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({staticClass:"ml-3 mr-3",attrs:{icon:""}},r),[a("v-badge",{attrs:{color:"red",content:t.items.length,value:t.items.length,overlap:""}},[a("v-icon",{attrs:{large:""}},[t._v("mdi-cart")])],1)],1)]}}])},[t.items.length?a("v-card",{attrs:{dark:""}},[a("v-list",{attrs:{subheader:""}},[a("v-subheader",[t._v("Корзина")]),t._l(t.items,(function(e,r){return a("v-list-item",{key:r,on:{click:function(){}}},[a("v-list-item-avatar",[a("v-img",{attrs:{src:e.product.image,contain:!0}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.product.name)}})],1),a("v-list-item-action",{staticClass:"ml-7"},[a("div",{staticClass:"cart-price"},[a("div",{staticClass:"text-input"},[a("v-text-field",{attrs:{"hide-details":"",type:"number"},model:{value:e.quantity,callback:function(a){t.$set(e,"quantity",a)},expression:"item.quantity"}})],1),a("div",[t._v(" x "+t._s(e.product.price)+" ₽")]),a("div",[a("v-btn",{staticClass:"ml-3",attrs:{icon:""},on:{click:function(e){return t.deleteItem(r)}}},[a("v-icon",[t._v("mdi-close-circle")])],1)],1)])])],1)}))],2),a("v-divider"),a("v-card-text",{staticClass:"d-flex"},[a("span",{staticClass:"subtitle-1 font-regular mt-1"},[t._v(" Итого: "+t._s(t.totalPrice)+" ₽")]),a("v-spacer"),a("v-btn",{staticClass:"text-capitalize",attrs:{color:"#d76e00",dark:""},on:{click:function(e){t.dialog=!0}}},[t._v("Купить")])],1)],1):a("v-card",{attrs:{dark:""}},[a("v-card-text",[t._v(" Корзина пуста! ")])],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{attrs:{dark:""}},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Оформление заказа")])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{staticClass:"pa-1",attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Имя*",rules:t.nameRules,required:""},model:{value:t.user.firstName,callback:function(e){t.$set(t.user,"firstName",e)},expression:"user.firstName"}})],1),a("v-col",{staticClass:"pa-1",attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Фамилия*",rules:t.nameRules,required:""},model:{value:t.user.secondName,callback:function(e){t.$set(t.user,"secondName",e)},expression:"user.secondName"}})],1),a("v-col",{staticClass:"pa-1",attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Телефон*","persistent-hint":"",rules:t.phoneRules,required:""},model:{value:t.user.phone,callback:function(e){t.$set(t.user,"phone",e)},expression:"user.phone"}})],1),a("v-col",{staticClass:"pa-1",attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"E-mail*",rules:t.emailRules,required:""},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1),a("v-col",{staticClass:"pa-1",attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"Комментарий"},model:{value:t.user.comment,callback:function(e){t.$set(t.user,"comment",e)},expression:"user.comment"}})],1),a("v-col",{staticClass:"pa-1",attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Промокод"},model:{value:t.user.promo,callback:function(e){t.$set(t.user,"promo",e)},expression:"user.promo"}})],1)],1)],1)],1),a("v-row",[a("v-col",{staticClass:"subtitle-1 py-0 text-right font-weight-black",attrs:{cols:"12"}},[t._v("Итого: "+t._s(t.totalPrice)+" ₽")]),a("v-col",{staticClass:"subtitle-1 py-0 text-right font-weight-black",attrs:{cols:"12"}},[t._v("Скидка: "+t._s(t.promotion)+" ₽")]),a("v-col",{staticClass:"subtitle-1 py-0 text-right font-weight-black",attrs:{cols:"12"}},[t._v("К оплате: "+t._s(t.totalPrice-t.promotion)+" ₽")])],1)],1),a("v-card-actions",[a("small",{staticClass:"caption ml-3"},[t._v("*обязательное поле")]),a("v-spacer"),a("v-btn",{attrs:{dark:"",color:"#d76e00"},on:{click:function(e){t.dialog=!1}}},[t._v("Закрыть")]),a("v-btn",{attrs:{dark:"",color:"#d76e00"},on:{click:function(e){return t.checkout()}}},[t._v("Оплатить")])],1)],1)],1)],1)},i=[],c=(a("13d5"),a("ac1f"),a("1276"),{name:"Cart",props:["showSnack"],data:function(){return{dialog:!1,valid:!0,snackbar:!1,user:{firstName:"",secondName:"",phone:"",email:"",comment:"",promo:""},nameRules:[function(t){return!!t||"Заполните поле"},function(t){return t&&t.length>2||"Имя должно содержать более 2 символов"}],emailRules:[function(t){return!!t||"Введите адрес"},function(t){return/.+@.+\..+/.test(t)||"Неверный адрес"}],phoneRules:[function(t){return!!t||"Введите номер"},function(t){return t&&9===t.length||"Неверный номер"}]}},computed:{items:function(){return this.$store.getters.getCart},totalPrice:function(){return this.items.reduce((function(t,e){return e.quantity*e.product.price+t}),0)},promotion:function(){return"1111"===this.user.promo?500:0}},methods:{validate:function(){this.$refs.form.validate()},reset:function(){this.$refs.form.reset()},checkout:function(){var t=this;this.validate(),this.$nextTick((function(){t.valid&&(t.saveToLocalstorage(),t.clearCart(),t.reset(),t.showSnack(),t.dialog=!1)}))},deleteItem:function(t){this.$store.dispatch("deleteProduct",t)},saveToLocalstorage:function(){var t=JSON.parse(localStorage.getItem("orders"))||[],e={items:this.items,price:this.totalPrice,pay:this.totalPrice-this.promotion,user:Object.assign({},this.user),date:(new Date).toISOString().split("T")[0]};t.push(e),this.$store.dispatch("setOrder",e),localStorage.setItem("orders",JSON.stringify(t))},clearCart:function(){this.$store.dispatch("clearCart")}}}),l=c,u=(a("4823"),a("2877")),d=a("6544"),f=a.n(d),v=a("4ca6"),m=a("8336"),p=a("b0af"),g=a("99d9"),h=a("62ad"),b=a("a523"),k=a("169a"),x=a("ce7e"),w=a("4bd4"),C=a("132d"),y=a("adda"),_=a("8860"),S=a("da13"),V=a("1800"),I=a("8270"),P=a("5d23"),O=a("e449"),R=a("0fd9"),$=a("2fa4"),T=a("e0c7"),N=a("8654"),E=a("a844"),q=Object(u["a"])(l,s,i,!1,null,"1a36cdfe",null),L=q.exports;f()(q,{VBadge:v["a"],VBtn:m["a"],VCard:p["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VCol:h["a"],VContainer:b["a"],VDialog:k["a"],VDivider:x["a"],VForm:w["a"],VIcon:C["a"],VImg:y["a"],VList:_["a"],VListItem:S["a"],VListItemAction:V["a"],VListItemAvatar:I["a"],VListItemContent:P["a"],VListItemTitle:P["b"],VMenu:O["a"],VRow:R["a"],VSpacer:$["a"],VSubheader:T["a"],VTextField:N["a"],VTextarea:E["a"]});var j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-snackbar",{attrs:{absolute:"",top:"",color:"success"},model:{value:t.logInSucceedSnackbar,callback:function(e){t.logInSucceedSnackbar=e},expression:"logInSucceedSnackbar"}},[a("span",[t._v("Вход выполнен")]),a("v-icon",{attrs:{dark:""}},[t._v(" mdi-account-check ")]),a("v-btn",{attrs:{text:""},on:{click:function(e){t.logInSucceedSnackbar=!1}}},[t._v(" Закрыть ")])],1),a("v-snackbar",{attrs:{absolute:"",top:"",color:"error"},model:{value:t.wrongPassword,callback:function(e){t.wrongPassword=e},expression:"wrongPassword"}},[a("span",[t._v("Неверный пароль")]),a("v-icon",{attrs:{dark:""}},[t._v(" mdi-account-cancel ")]),a("v-btn",{attrs:{text:""},on:{click:function(e){t.wrongPassword=!1}}},[t._v(" Закрыть ")])],1),a("v-menu",{attrs:{left:"",bottom:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({staticClass:"ml-3 mr-3",attrs:{icon:""},on:{click:function(e){return t.accountBtnClick()}}},r),[a("v-icon",{attrs:{large:"",color:"white"}},[t._v(" "+t._s(t.succeedIcon())+" ")])],1)]}}])},[t.logOutDialog?a("v-card",{attrs:{dark:""},model:{value:t.logOutDialog,callback:function(e){t.logOutDialog=e},expression:"logOutDialog"}},[a("v-btn",{attrs:{block:"",color:"#d76e00",text:""},on:{click:function(e){return t.logOut()}}},[t._v(" Выйти ")])],1):t._e()],1),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{attrs:{color:"#28282B",elevation:"10"}},[a("v-card-title",[a("span",{staticClass:"pr-1 headline",staticStyle:{color:"#d76e00"}},[t._v("Вход")]),a("span",{staticClass:"headline",staticStyle:{color:"#626567",cursor:"pointer"},on:{click:function(e){t.dialog2=!t.dialog2,t.dialog=!t.dialog}}},[t._v("/ Регистрация")])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{staticStyle:{margin:"0px 1px 1px 1px"},attrs:{cols:"12"}},[a("v-text-field",{attrs:{dark:"",label:"E-mail",rules:t.emailRules,required:""},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}})],1)],1),a("v-row",{staticClass:"pt-2"},[a("v-col",{staticStyle:{margin:"-20px 1px 1px 1px"},attrs:{cols:"12"}},[a("v-text-field",{attrs:{"append-icon":t.show3?"mdi-eye":"mdi-eye-off",type:t.show3?"text":"password",dark:"",label:"Password",rules:t.passwordRules,required:""},on:{"click:append":function(e){t.show3=!t.show3}},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1)],1),a("v-row")],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticStyle:{"margin-bottom":"3px"},attrs:{disabled:!t.validate(),block:"",color:"#d76e00",elevation:"10"},on:{click:function(e){return t.logIn()}}},[t._v("Войти")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[a("v-card",{attrs:{color:"#28282B",elevation:"10"}},[a("v-card-title",[a("span",{staticClass:"headline",staticStyle:{color:"#626567",cursor:"pointer"},on:{click:function(e){t.dialog2=!t.dialog2,t.dialog=!t.dialog}}},[t._v("Вход /")]),a("span",{staticClass:"pl-1 headline",staticStyle:{color:"#d76e00"}},[t._v("Регистрация")])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-col",{staticStyle:{margin:"-20px 1px 1px 1px"},attrs:{cols:"12"}},[a("v-text-field",{attrs:{dark:"",label:"Имя",rules:t.nameRules,required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),a("v-row",{staticClass:"pt-0"},[a("v-col",{staticStyle:{margin:"-20px 1px 1px 1px"},attrs:{cols:"12"}},[a("v-text-field",{attrs:{dark:"",label:"E-mail",rules:t.emailRegRules,required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),a("v-row",[a("v-col",{staticStyle:{margin:"-20px 1px 1px 1px"},attrs:{cols:"12"}},[a("v-text-field",{attrs:{"append-icon":t.show?"mdi-eye":"mdi-eye-off",type:t.show?"text":"password",dark:"",label:"Пароль",rules:t.regPasswordRules,required:""},on:{"click:append":function(e){t.show=!t.show}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),a("v-row",[a("v-col",{staticStyle:{margin:"-20px 1px 1px 1px"},attrs:{cols:"12"}},[a("v-text-field",{attrs:{"append-icon":t.show2?"mdi-eye":"mdi-eye-off",type:t.show2?"text":"password",dark:"",label:"Повторите пароль",rules:t.confirmPasswordRules,required:""},on:{"click:append":function(e){t.show2=!t.show2}},model:{value:t.user.confirmPassword,callback:function(e){t.$set(t.user,"confirmPassword",e)},expression:"user.confirmPassword"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticStyle:{"margin-bottom":"10px","margin-top":"-25px"},attrs:{block:"",color:"#d76e00",elevation:"10"},on:{click:function(e){return t.createUser()}}},[t._v("Зарегистрироваться")])],1)],1)],1)],1)},A=[],B=(a("b0c0"),a("96cf"),a("1da1")),D=a("bc3a"),F={name:"Account",data:function(){var t=this;return{name:"",email:"",password:"",dialog:!1,dialog2:!1,logOutDialog:!1,valid:!0,show:!1,show2:!1,show3:!1,logInSucceed:!1,logInSucceedSnackbar:!1,wrongPassword:!1,user:{name:"",email:"",regEmail:"",password:"",regPassword:"",confirmPassword:""},emailRules:[function(t){return!!t||"Введите адрес"},function(t){return/.+@.+\..+/.test(t)||"Неверный адрес"},function(e){return t.logInEmailValidate()||"Такой e-mail не зарегистрирован"}],regEmailRules:[function(t){return!!t||"Введите адрес"},function(t){return/.+@.+\..+/.test(t)||"Неверный адрес"},function(e){return!t.checkEmail()||"Такой адрес уже зарегистрирован"}],phoneRules:[function(t){return!!t||"Введите номер"}],passwordRules:[function(t){return!!t||"Введите пароль"}],regPasswordRules:[function(t){return!!t||"Введите пароль"},function(t){return t.length>=8||"Пароль должен содержать не менее 8 символов"}],confirmPasswordRules:[function(t){return!!t||"Введите пароль"},function(e){return e===t.password||"Пароли должны совпадать"}],nameRules:[function(t){return!!t||"Введите имя"},function(t){return t&&t.length>2||"Имя должно содержать более 2 символов"}]}},methods:{checkEmail:function(){for(var t=JSON.parse(localStorage.getItem("userdata")),e=0;e<t.length;e++)if(t[e].email===this.user.regEmail)return!0;return!1},validate:function(){return this.user.email&&/.+@.+\..+/.test(this.user.email)&&this.user.password},regValidate:function(){return this.user.name&&this.user.name.length>2&&this.user.regEmail&&/.+@.+\..+/.test(this.user.regEmail)&&this.user.password&&this.user.password.length>=8&&this.user.confirmPassword&&this.user.confirmPassword===this.user.password},createUser:function(){var t=this.name,e=this.email,a=this.password;D.defaults.withCredentials=!0,D.defaults.xsrfHeaderName="X-CSRFTOKEN",D.defaults.xsrfCookieName="csrftoken",D.post("/api/v1user/",{name:t,email:e,password:a}),this.dialog2=!1,this.dialog=!1},getUsers:function(){var t=this;return Object(B["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.get("/api/v1user/");case 3:a=e.sent,t.users=JSON.stringify(a.data),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))()},logInEmailValidate:function(){try{for(var t=this.users,e=0;e<t.length;e++)if(this.user.email===t[e].email)return!0;return!1}catch(a){}},logIn:function(){for(var t=this.users,e=0;e<t.length;e++)this.user.email===t[e].email&&(this.user.password===t[e].password?(this.logInSucceed="true",this.$store.dispatch("setUserId",t[e].id),this.$store.dispatch("setLoggedIn",!0),this.dialog=!1,this.logInSucceedSnackbar=!0):(this.wrongPassword=!0,this.user.password=""))},logOut:function(){this.logInSucceed=!1,this.logOutDialog=!1,this.$store.dispatch("setLoggedIn",!1)},succeedIcon:function(){return"true"===this.logInSucceed?"mdi-account-check":"mdi-account"},accountBtnClick:function(){"true"!==this.logInSucceed?this.dialog=!0:this.logOutDialog=!0}},created:function(){var t=this;return Object(B["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,D.get("/api/v1user/");case 2:a=e.sent,t.users=a.data,t.logInSucceed=t.$store.getters.getLoggedIn;case 5:case"end":return e.stop()}}),e)})))()}},U=F,J=a("2db4"),M=Object(u["a"])(U,j,A,!1,null,null,null),H=M.exports;f()(M,{VBtn:m["a"],VCard:p["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VCol:h["a"],VContainer:b["a"],VDialog:k["a"],VForm:w["a"],VIcon:C["a"],VMenu:O["a"],VRow:R["a"],VSnackbar:J["a"],VSpacer:$["a"],VTextField:N["a"]});var K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-menu",{attrs:{left:"",bottom:"","close-on-content-click":!1,"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({staticClass:"ml-3 mr-3",attrs:{icon:""}},r),[a("v-badge",{attrs:{color:"red",content:t.items.length,value:t.items.length,overlap:""}},[a("v-icon",{attrs:{large:""}},[t._v("mdi-desktop-tower")])],1)],1)]}}])},[t.items.length?a("v-card",{attrs:{dark:""}},[a("v-list",{attrs:{subheader:""}},[a("v-subheader",[t._v("Конфигуратор")]),t._l(t.items,(function(e,r){return a("v-list-item",{key:r,on:{click:function(){}}},[a("v-list-item-avatar",[a("v-img",{attrs:{src:e.product.image,contain:!0}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.product.name)}})],1),a("v-list-item-action",{staticClass:"ml-7"},[a("div",{staticClass:"cart-price"},[a("div",{staticClass:"text-input"},[a("v-text-field",{attrs:{"hide-details":"",type:"number"},model:{value:e.quantity,callback:function(a){t.$set(e,"quantity",a)},expression:"item.quantity"}})],1),a("div",[t._v(" x "+t._s(e.product.price)+" ₽")]),a("div",[a("v-btn",{staticClass:"ml-3",attrs:{icon:""},on:{click:function(e){return t.deleteItem(r)}}},[a("v-icon",[t._v("mdi-close-circle")])],1)],1)])])],1)}))],2),a("v-divider"),a("v-card-text",{staticClass:"d-flex"},[a("span",{staticClass:"subtitle-1 font-regular mt-1"},[t._v(" Итого: "+t._s(t.totalPrice)+" ₽")]),a("v-spacer"),a("v-btn",{staticClass:"text-capitalize",attrs:{color:"#d76e00",dark:""},on:{click:function(e){t.dialog=!0}}},[t._v("Сохранить")])],1)],1):a("v-card",{attrs:{dark:""}},[a("v-card-text",[t._v(" Конфигуратор пуст! ")])],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{attrs:{dark:""}},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Сохранение конфигурации")])]),a("v-card-text",[a("v-container",[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-row",[a("v-text-field",{attrs:{label:"Название",rules:t.nameRules,required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{dark:"",color:"#d76e00"},on:{click:function(e){t.dialog=!1}}},[t._v("Закрыть")]),a("v-btn",{attrs:{dark:"",color:"#d76e00"},on:{click:function(e){return t.confAdd()}}},[t._v("Сохранить")])],1)],1)],1),a("v-snackbar",{attrs:{color:"#d76e00",bottom:""},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" Конфигурация сохранена! "),a("v-btn",{attrs:{text:""},on:{click:function(e){t.snackbar=!1}}},[t._v(" Закрыть ")])],1)],1)},X=[],z=a("bc3a"),G={name:"ConfCart",data:function(){return{dialog:!1,valid:!1,snackbar:!1,name:"",nameRules:[function(t){return!!t||"Заполните поле"}]}},computed:{items:function(){return this.$store.getters.getConfsCart},totalPrice:function(){return this.items.reduce((function(t,e){return e.quantity*e.product.price+t}),0)}},methods:{validate:function(){this.$refs.form.validate()},reset:function(){this.$refs.form.reset()},confAdd:function(){var t=this;this.validate(),this.$nextTick((function(){t.valid&&(t.saveToDB(),t.snackbar=!0,t.dialog=!1)}))},deleteItem:function(t){this.$store.dispatch("deleteProductConf",t)},saveToDB:function(){var t=this;return Object(B["a"])(regeneratorRuntime.mark((function e(){var a,r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.getters.getConfs;case 2:a=e.sent,r={name:t.name,owner:1,items:t.items},a.push(r),n=t.name,o=JSON.stringify(t.items);try{z.defaults.withCredentials=!0,z.defaults.xsrfHeaderName="X-CSRFTOKEN",z.defaults.xsrfCookieName="csrftoken",z.post("/api/v1configuration/",{name:n,owner:"1",items:o})}catch(s){}t.clearConfCart(),t.reset();case 10:case"end":return e.stop()}}),e)})))()},clearConfCart:function(){this.$store.dispatch("clearConfCart")}}},Q=G,W=(a("fa4c"),Object(u["a"])(Q,K,X,!1,null,"211ca77c",null)),Y=W.exports;f()(W,{VBadge:v["a"],VBtn:m["a"],VCard:p["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VContainer:b["a"],VDialog:k["a"],VDivider:x["a"],VForm:w["a"],VIcon:C["a"],VImg:y["a"],VList:_["a"],VListItem:S["a"],VListItemAction:V["a"],VListItemAvatar:I["a"],VListItemContent:P["a"],VListItemTitle:P["b"],VMenu:O["a"],VRow:R["a"],VSnackbar:J["a"],VSpacer:$["a"],VSubheader:T["a"],VTextField:N["a"]});var Z={name:"App",components:{Cart:L,Account:H,ConfCart:Y},data:function(){return{snackbar:!1,auth_dialog:!1}},methods:{showSnack:function(){this.snackbar=!0}}},tt=Z,et=(a("034f"),a("7496")),at=a("40dc"),rt=a("5bc1"),nt=a("a75b"),ot=Object(u["a"])(tt,n,o,!1,null,null,null),st=ot.exports;f()(ot,{VApp:et["a"],VAppBar:at["a"],VAppBarNavIcon:rt["a"],VBtn:m["a"],VContent:nt["a"],VIcon:C["a"],VSnackbar:J["a"],VSpacer:$["a"]});a("d3b7");var it=a("8c4f");r["a"].use(it["a"]);var ct=[{path:"/",name:"Products",component:function(){return a.e("products").then(a.bind(null,"e6dc"))}},{path:"/orders",name:"Orders",component:function(){return a.e("orders").then(a.bind(null,"159d"))}},{path:"/configurations",name:"Configurations",component:function(){return a.e("configurations").then(a.bind(null,"594b"))}}],lt=new it["a"]({mode:"history",base:"static/",routes:ct}),ut=lt,dt=(a("c740"),a("a434"),a("5530")),ft=a("2f62");r["a"].use(ft["a"]);var vt=a("bc3a"),mt=new ft["a"].Store({state:{cart:[],confCart:[],orders:JSON.parse(localStorage.getItem("orders"))||[],loggedIn:localStorage.getItem("loggedIn")||!1,userId:localStorage.getItem("userId")||0},mutations:{setOrder:function(t,e){t.orders.push(e)},setUserId:function(t,e){localStorage.setItem("UserId",e)},setLoggedIn:function(t,e){localStorage.setItem("loggedIn",e)},setProduct:function(t,e){var a=t.cart.findIndex((function(t){return t.type===e.type}));if(-1!==a)if(e.product.id===t.cart[a].product.id)t.cart[a].quantity++;else{var r=Object(dt["a"])({quantity:1},e);t.cart.splice(a,1,r)}else{var n=Object(dt["a"])({quantity:1},e);t.cart.push(n)}},setProductConf:function(t,e){var a=t.confCart.findIndex((function(t){return t.type===e.type}));if(-1!==a)if(e.product.id===t.confCart[a].product.id)t.confCart[a].quantity++;else{var r=Object(dt["a"])({quantity:1},e);t.confCart.splice(a,1,r)}else{var n=Object(dt["a"])({quantity:1},e);t.confCart.push(n)}},clearCart:function(t){t.cart=[]},clearConfCart:function(t){t.confCart=[]},deleteProduct:function(t,e){t.cart.splice(e,1)},deleteProductConf:function(t,e){t.confCart.splice(e,1)}},actions:{setConf:function(t,e){return Object(B["a"])(regeneratorRuntime.mark((function t(){var a,r,n,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[],t.next=3,vt.get("/api/v1configuration/");case 3:r=t.sent,a=r.data,a.push(e);try{n=e.name,o=e.owner,s=e.items,vt.defaults.withCredentials=!0,vt.defaults.xsrfHeaderName="X-CSRFTOKEN",vt.defaults.xsrfCookieName="csrftoken",vt.post("/api/v1configuration/",{name:n,owner:o,items:s})}catch(i){}case 7:case"end":return t.stop()}}),t)})))()},setOrder:function(t,e){t.commit("setOrder",e)},setProduct:function(t,e){t.commit("setProduct",e)},setProductConf:function(t,e){t.commit("setProductConf",e)},setUserId:function(t,e){t.commit("setUserId",e)},setLoggedIn:function(t,e){t.commit("setLoggedIn",e)},deleteProduct:function(t,e){t.commit("deleteProduct",e)},deleteProductConf:function(t,e){t.commit("deleteProductConf",e)},clearCart:function(t,e){t.commit("clearCart",e)},clearConfCart:function(t,e){t.commit("clearConfCart",e)}},getters:{getConfsCart:function(t){return t.confCart},getCart:function(t){return t.cart},getOrders:function(t){return t.orders},getConfs:function(t){return Object(B["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=[],t.next=3,vt.get("/api/v1configuration/");case 3:return a=t.sent,e=a.data,t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})))()},getLoggedIn:function(t){return t.loggedIn},getUserId:function(t){return t.userId}}}),pt=a("f309");r["a"].use(pt["a"]);var gt=new pt["a"]({});r["a"].config.productionTip=!1,new r["a"]({router:ut,store:mt,vuetify:gt,render:function(t){return t(st)}}).$mount("#app")},"85ec":function(t,e,a){},ec23:function(t,e,a){},fa4c:function(t,e,a){"use strict";a("43a4")}});
//# sourceMappingURL=app.4f81cb7e.js.map